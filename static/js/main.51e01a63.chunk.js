(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],[,,,,,,,,,,,,,,,function(t,e,a){t.exports=a(33)},,,,,function(t,e,a){},,,,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var o=a(0),n=a.n(o),s=a(14),i=a.n(s),l=(a(20),a(1)),r=a(2),c=a(4),d=a(3),u=a(6),m=a(7),p=a.n(m);a(21),a(25);p.a.initializeApp({apiKey:"AIzaSyCT3sqrLhk8JLRCBY3e3B8Mzh7pb_7BI14",authDomain:"todo-35f31.firebaseapp.com",databaseURL:"https://todo-35f31.firebaseio.com",projectId:"todo-35f31",storageBucket:"todo-35f31.appspot.com",messagingSenderId:"622139677751",appId:"1:622139677751:web:646c1cc0220f10520033b2"});var h=p.a.firestore(),f=p.a.auth(),g=(a(27),function(t){Object(c.a)(a,t);var e=Object(d.a)(a);function a(t){var o;return Object(l.a)(this,a),(o=e.call(this,t)).updateAuthStatus=function(t){o.props.updateAuthStatus(t)},o.handleChange=function(t){o.setState(Object(u.a)({},t.target.name,t.target.value))},o.handleSubmit=function(){"Sign Up"===o.state.formMode?o.signUp():"Log In"===o.state.formMode&&o.signIn(),o.setState({email:"",password:"",hideForm:!0,formMode:""})},o.signUp=function(){f.createUserWithEmailAndPassword(o.state.email,o.state.password).then((function(t){console.log("Sign Up Successful")}))},o.signIn=function(){f.signInWithEmailAndPassword(o.state.email,o.state.password).then((function(t){return console.log("Log In Successful")}))},o.logOut=function(){f.signOut().then((function(){return console.log("Logged Out")}))},o.openForm=function(t){"signUp"===t?o.setState({hideForm:!1,formMode:"Sign Up"}):"logIn"===t?o.setState({hideForm:!1,formMode:"Log In"}):"logOut"===t&&o.logOut()},o.state={email:"",password:"",hideForm:!0,formMode:""},o}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this;f.onAuthStateChanged((function(e){e?t.updateAuthStatus(!0):t.updateAuthStatus(!1)}))}},{key:"render",value:function(){var t=this,e=f.currentUser,a=this.props.userLoggedIn?[n.a.createElement("li",{key:"user",className:"navbar-button fas fa-user",id:"navbar-user-info"},n.a.createElement("div",null,n.a.createElement("span",null,"Signed in as:"),n.a.createElement("span",null,e.email))),n.a.createElement("li",{key:"logOut",className:"navbar-button",onClick:function(){return t.openForm("logOut")}},"Log Out")]:[n.a.createElement("li",{key:"signUp",className:"navbar-button",onClick:function(){return t.openForm("signUp")}},"Sign Up"),n.a.createElement("li",{key:"signIn",className:"navbar-button",onClick:function(){return t.openForm("logIn")}},"Log In")];return n.a.createElement("header",{id:"app-header"},n.a.createElement("h1",{id:"app-title"},n.a.createElement("i",{className:"fas fa-list"})," ",this.props.title),n.a.createElement("nav",{id:"navbar"},n.a.createElement("ul",{id:"navbar-list"},a)),n.a.createElement("div",{id:"auth-form-container",style:{display:this.state.hideForm?"none":"block"}},n.a.createElement("div",{id:"auth-form"},n.a.createElement("i",{className:"fas fa-times",id:"close-auth-form",onClick:function(){return t.setState({hideForm:!0,formMode:""})}}),n.a.createElement("h1",{id:"auth-form-title"},this.state.formMode),n.a.createElement("input",{placeholder:"Email",value:this.state.email,type:"email",name:"email",className:"auth-form-input",onChange:this.handleChange}),n.a.createElement("input",{placeholder:"Password",value:this.state.password,type:"password",name:"password",className:"auth-form-input",onChange:this.handleChange}),n.a.createElement("button",{id:"auth-form-button",onClick:this.handleSubmit},this.state.formMode))))}}]),a}(n.a.Component));function k(t,e,a,o,n){this.id=t,this.title=e,this.important=a,this.daily=o,this.notes=n}k.prototype.completed=!1;var b=k,v=function(t){Object(c.a)(a,t);var e=Object(d.a)(a);function a(t){var o;return Object(l.a)(this,a),(o=e.call(this,t)).handleDelete=function(){o.props.deleteTodo(o.props.details.id)},o.handleToggleComplete=function(){o.props.toggleCompleteTodo(o.props.details.id)},o.toggleNotes=function(){o.setState((function(t){return{notesOpen:!t.notesOpen}}))},o.handleChange=function(t){o.setState({notesInput:t.target.value})},o.handleNotesClick=function(t){var e=t.target.parentElement.children[1];o.setState({notesInputFocus:!0},(function(){e.focus(),e.setSelectionRange(e.value.length,e.value.length)}))},o.handleBlur=function(){o.setState({notesInputFocus:!1}),o.props.updateNotes(o.props.details.id,o.state.notesInput)},o.state={notesOpen:!1,notesInputFocus:!1,notesInput:o.props.details.notes},o}return Object(r.a)(a,[{key:"render",value:function(){var t=this.props.details,e=t.title,a=t.important,o=t.daily,s=t.completed;return n.a.createElement("div",{className:"todo-item",style:{fontWeight:a?"bolder":"normal"}},n.a.createElement("button",{onClick:this.handleToggleComplete,className:s?"fas fa-check checkbox-checked":"fas fa-check checkbox"}),n.a.createElement("span",{className:"todo-title"},e,o?n.a.createElement("i",{className:"fas fa-calendar-alt daily-mark"}):null),n.a.createElement("button",{className:"fas fa-chevron-down open-notes-btn",onClick:this.toggleNotes}),n.a.createElement("button",{onClick:this.handleDelete,className:"delete-todo-btn fas fa-trash"}),n.a.createElement("div",{className:"todo-notes",style:{display:this.state.notesOpen?"block":"none"}},n.a.createElement("span",{className:"notes-content",style:{display:this.state.notesInputFocus?"none":"block"},onClick:this.handleNotesClick},this.state.notesInput),n.a.createElement("textarea",{style:{display:this.state.notesInputFocus?"block":"none"},autoFocus:!0,className:"todo-notes-input",value:this.state.notesInput,onBlur:this.handleBlur,onChange:this.handleChange})))}}]),a}(n.a.Component),y=(a(28),function(t){Object(c.a)(a,t);var e=Object(d.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var t=this,e=this.props.todoItems.map((function(e,a){return n.a.createElement(v,{details:e,key:a,deleteTodo:t.props.deleteTodo,toggleCompleteTodo:t.props.toggleCompleteTodo,updateNotes:t.props.updateNotes})}));return n.a.createElement("div",{id:"todo-list"},e)}}]),a}(n.a.Component)),E=(a(29),function(t){Object(c.a)(a,t);var e=Object(d.a)(a);function a(t){var o;return Object(l.a)(this,a),(o=e.call(this,t)).handleChange=function(t){"button"!==t.target.type?o.setState({title:t.target.value}):o.setState(Object(u.a)({},t.target.name,!o.state[t.target.name]))},o.handleSubmit=function(t){""!==o.state.title?(t.preventDefault(),o.props.addTodo(o.state),o.setState({title:"",important:!1,daily:!1})):console.log("Please enter a value")},o.state={title:"",important:!1,daily:!1},o}return Object(r.a)(a,[{key:"render",value:function(){var t=this.state,e=t.title,a=t.important,o=t.daily;return n.a.createElement("div",{id:"todo-form"},n.a.createElement("label",{htmlFor:"title",id:"title-input-container"},n.a.createElement("input",{id:"title",name:"title",type:"text",placeholder:"Enter Todo Title",value:e,onChange:this.handleChange})),n.a.createElement("button",{id:"important-form-btn",name:"important",type:"button",onClick:this.handleChange,className:a?"fas fa-exclamation":"fas fa-times",title:a?"Mark un-important":"Mark important"}),n.a.createElement("button",{id:"daily-form-btn",name:"daily",type:"button",onClick:this.handleChange,className:o?"fas fa-calendar-alt":"fas fa-calendar-times",title:o?"Unmark as Daily":"Mark as daily"}),n.a.createElement("button",{type:"submit",id:"todo-submit",onClick:this.handleSubmit},"ADD"))}}]),a}(n.a.Component)),C=(a(30),function(t){Object(c.a)(a,t);var e=Object(d.a)(a);function a(t){var o;return Object(l.a)(this,a),(o=e.call(this,t)).toggleVisibility=function(){o.setState((function(t){return{hidden:!t.hidden}}))},o.resetDailyTasks=function(t){t.stopPropagation(),o.props.resetDailyTasks()},o.state={hidden:!0},o}return Object(r.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{id:"todo-tools",className:this.state.hidden?"":"toggle-visible"},n.a.createElement("button",{className:"fas fa-bars",id:"tools-toggle",onClick:this.toggleVisibility}),n.a.createElement("div",{className:"todo-tool ".concat("all"===this.props.filterMode?"filter":""),onClick:this.props.getAllTasks},"All Tasks"),n.a.createElement("div",{className:"todo-tool ".concat("daily"===this.props.filterMode?"filter":""),onClick:this.props.getDailyTasks},"Daily Tasks ",n.a.createElement("i",{title:"Reset",className:"fas fa-undo-alt extra-tool",onClick:this.resetDailyTasks})),n.a.createElement("div",{className:"todo-tool ".concat("important"===this.props.filterMode?"filter":""),onClick:this.props.getImportantTasks},"Important Tasks"),n.a.createElement("div",{className:"todo-tool ".concat("completed"===this.props.filterMode?"filter":""),onClick:this.props.getCompletedTasks},"Completed Tasks"))}}]),a}(n.a.Component)),T=(a(31),function(t){Object(c.a)(a,t);var e=Object(d.a)(a);function a(t){var o;return Object(l.a)(this,a),(o=e.call(this,t)).addTodo=function(t){var e=f.currentUser,a=o.state.todoItems;h.collection("todos").add({user:e.uid,title:t.title,important:t.important,daily:t.daily,completed:!1}).then((function(e){a.push(new b(e.id,t.title,t.important,t.daily)),o.setState({todoItems:a})}))},o.deleteTodo=function(t){var e=o.state.todoItems.filter((function(e){return e.id!==t}));h.collection("todos").doc(t).delete(),o.setState({todoItems:e})},o.toggleCompleteTodo=function(t){var e=!1,a=o.state.todoItems.map((function(a){return a.id===t?(a.completed=!a.completed,e=a.completed,a):a}));h.collection("todos").doc(t).update({completed:e}).then((function(){console.log("Document with id ".concat(t," updated"))})).catch((function(){console.log("Oops, something went wrong!")})),o.setState({todoItems:a})},o.updateNotes=function(t,e){h.collection("todos").doc(t).update({notes:e}).then((function(){console.log("Updated")}))},o.getAllTasks=function(){var t=f.currentUser;h.collection("todos").where("user","==",t.uid).orderBy("important","desc").get().then((function(t){var e=t.docs.map((function(t){var e=t.data(),a=e.title,o=e.important,n=e.daily,s=e.completed,i=e.notes,l=new b(t.id,a,o,n,i);return l.completed=s,l}));o.setState({todoItems:e,filterMode:"all"})}))},o.getDailyTasks=function(){o.filterTasks("daily",!0)},o.getImportantTasks=function(){o.filterTasks("important",!0)},o.getCompletedTasks=function(){o.filterTasks("completed",!0)},o.resetDailyTasks=function(){var t=f.currentUser;h.collection("todos").where("user","==",t.uid).where("daily","==",!0).get().then((function(t){var e=h.batch();t.forEach((function(t){var a=h.collection("todos").doc(t.id);e.update(a,{completed:!1})})),e.commit().then((function(){console.log("Update Completed"),o.getDailyTasks()}))}))},o.filterTasks=function(t,e){var a=f.currentUser;h.collection("todos").where("user","==",a.uid).where(t,"==",e).get().then((function(e){var a=e.docs.map((function(t){var e=t.data(),a=e.title,o=e.important,n=e.daily,s=e.completed,i=e.notes,l=new b(t.id,a,o,n,i);return l.completed=s,l}));o.setState({todoItems:a,filterMode:t})}))},o.state={todoItems:[],filterMode:"all"},o}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.getAllTasks()}},{key:"render",value:function(){return n.a.createElement("div",{id:"todo-container"},n.a.createElement(E,{addTodo:this.addTodo}),n.a.createElement(C,{getDailyTasks:this.getDailyTasks,getAllTasks:this.getAllTasks,getImportantTasks:this.getImportantTasks,getCompletedTasks:this.getCompletedTasks,resetDailyTasks:this.resetDailyTasks,filterMode:this.state.filterMode}),n.a.createElement(y,{todoItems:this.state.todoItems,deleteTodo:this.deleteTodo,toggleCompleteTodo:this.toggleCompleteTodo,updateNotes:this.updateNotes}))}}]),a}(n.a.Component)),I=(a(32),function(t){Object(c.a)(a,t);var e=Object(d.a)(a);function a(t){var o;return Object(l.a)(this,a),(o=e.call(this,t)).updateAuthStatus=function(t){o.setState({userLoggedIn:t})},o.state={userLoggedIn:!1},o}return Object(r.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(g,{title:"Todo",updateAuthStatus:this.updateAuthStatus,userLoggedIn:this.state.userLoggedIn}),this.state.userLoggedIn?n.a.createElement(T,null):n.a.createElement("h2",null,"Please Sign Up Or Login"))}}]),a}(n.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}],[[15,1,2]]]);
//# sourceMappingURL=main.51e01a63.chunk.js.map