(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],[,,,,,,,,,,,,,,,function(t,e,a){t.exports=a(33)},,,,,function(t,e,a){},,,,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),s=a(14),i=a.n(s),l=(a(20),a(1)),r=a(2),c=a(4),d=a(3),u=a(6),m=a(7),p=a.n(m);a(21),a(25);p.a.initializeApp({apiKey:"AIzaSyCT3sqrLhk8JLRCBY3e3B8Mzh7pb_7BI14",authDomain:"todo-35f31.firebaseapp.com",databaseURL:"https://todo-35f31.firebaseio.com",projectId:"todo-35f31",storageBucket:"todo-35f31.appspot.com",messagingSenderId:"622139677751",appId:"1:622139677751:web:646c1cc0220f10520033b2"});var h=p.a.firestore(),f=p.a.auth(),g=(a(27),function(t){Object(c.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).updateAuthStatus=function(t){n.props.updateAuthStatus(t)},n.handleChange=function(t){n.setState(Object(u.a)({},t.target.name,t.target.value))},n.handleSubmit=function(){"Sign Up"===n.state.formMode?n.signUp():"Log In"===n.state.formMode&&n.signIn(),n.setState({email:"",password:"",hideForm:!0,formMode:""})},n.signUp=function(){f.createUserWithEmailAndPassword(n.state.email,n.state.password).then((function(t){console.log("Sign Up Successful")}))},n.signIn=function(){f.signInWithEmailAndPassword(n.state.email,n.state.password).then((function(t){return console.log("Log In Successful")}))},n.logOut=function(){f.signOut().then((function(){return console.log("Logged Out")}))},n.openForm=function(t){"signUp"===t?n.setState({hideForm:!1,formMode:"Sign Up"}):"logIn"===t?n.setState({hideForm:!1,formMode:"Log In"}):"logOut"===t&&n.logOut()},n.state={email:"",password:"",hideForm:!0,formMode:""},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this;f.onAuthStateChanged((function(e){e?t.updateAuthStatus(!0):t.updateAuthStatus(!1)}))}},{key:"render",value:function(){var t=this,e=f.currentUser,a=this.props.userLoggedIn?[o.a.createElement("li",{key:"user",className:"navbar-button fas fa-user",id:"navbar-user-info"},o.a.createElement("div",null,o.a.createElement("span",null,"Signed in as:"),o.a.createElement("span",null,e.email))),o.a.createElement("li",{key:"logOut",className:"navbar-button",onClick:function(){return t.openForm("logOut")}},"Log Out")]:[o.a.createElement("li",{key:"signUp",className:"navbar-button",onClick:function(){return t.openForm("signUp")}},"Sign Up"),o.a.createElement("li",{key:"signIn",className:"navbar-button",onClick:function(){return t.openForm("logIn")}},"Log In")];return o.a.createElement("header",{id:"app-header"},o.a.createElement("h1",{id:"app-title"},o.a.createElement("i",{className:"fas fa-list"})," ",this.props.title),o.a.createElement("nav",{id:"navbar"},o.a.createElement("ul",{id:"navbar-list"},a)),o.a.createElement("div",{id:"auth-form-container",style:{display:this.state.hideForm?"none":"block"}},o.a.createElement("div",{id:"auth-form"},o.a.createElement("i",{className:"fas fa-times",id:"close-auth-form",onClick:function(){return t.setState({hideForm:!0,formMode:""})}}),o.a.createElement("h1",{id:"auth-form-title"},this.state.formMode),o.a.createElement("input",{placeholder:"Email",value:this.state.email,type:"email",name:"email",className:"auth-form-input",onChange:this.handleChange}),o.a.createElement("input",{placeholder:"Password",value:this.state.password,type:"password",name:"password",className:"auth-form-input",onChange:this.handleChange}),o.a.createElement("button",{id:"auth-form-button",onClick:this.handleSubmit},this.state.formMode))))}}]),a}(o.a.Component));function k(t,e,a,n,o){this.id=t,this.title=e,this.important=a,this.daily=n,this.notes=o}k.prototype.completed=!1;var b=k,v=function(t){Object(c.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).handleDelete=function(){n.props.deleteTodo(n.props.details.id)},n.handleToggleComplete=function(){n.props.toggleCompleteTodo(n.props.details.id)},n.toggleNotes=function(){n.setState((function(t){return{notesOpen:!t.notesOpen}}))},n.handleChange=function(t){n.setState({notesInput:t.target.value})},n.handleNotesClick=function(t){var e=t.target.parentElement.children[1];n.setState({notesInputFocus:!0},(function(){e.focus(),e.setSelectionRange(e.value.length,e.value.length)}))},n.handleBlur=function(){n.setState({notesInputFocus:!1}),n.props.updateNotes(n.props.details.id,n.state.notesInput)},n.state={notesOpen:!1,notesInputFocus:!1,notesInput:n.props.details.notes},n}return Object(r.a)(a,[{key:"render",value:function(){var t=this.props.details,e=t.title,a=t.important,n=t.daily,s=t.completed;return o.a.createElement("div",{className:"todo-item",style:{fontWeight:a?"bolder":"normal"}},o.a.createElement("button",{onClick:this.handleToggleComplete,className:s?"fas fa-check checkbox-checked":"fas fa-check checkbox"}),o.a.createElement("span",{className:"todo-title"},e,n?o.a.createElement("i",{className:"fas fa-calendar-alt daily-mark"}):null),o.a.createElement("button",{className:"fas fa-chevron-down open-notes-btn",onClick:this.toggleNotes}),o.a.createElement("button",{onClick:this.handleDelete,className:"delete-todo-btn fas fa-trash"}),o.a.createElement("div",{className:"todo-notes",style:{display:this.state.notesOpen?"block":"none"}},o.a.createElement("span",{className:"notes-content",style:{display:this.state.notesInputFocus?"none":"block"},onClick:this.handleNotesClick},this.state.notesInput),o.a.createElement("textarea",{style:{display:this.state.notesInputFocus?"block":"none"},autoFocus:!0,className:"todo-notes-input",value:this.state.notesInput,onBlur:this.handleBlur,onChange:this.handleChange})))}}]),a}(o.a.Component),y=(a(28),function(t){Object(c.a)(a,t);var e=Object(d.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var t=this,e=this.props.todoItems.map((function(e,a){return o.a.createElement(v,{details:e,key:e.id,deleteTodo:t.props.deleteTodo,toggleCompleteTodo:t.props.toggleCompleteTodo,updateNotes:t.props.updateNotes})}));return o.a.createElement("div",{id:"todo-list"},e)}}]),a}(o.a.Component)),E=(a(29),function(t){Object(c.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).handleChange=function(t){"button"!==t.target.type?n.setState({title:t.target.value}):n.setState(Object(u.a)({},t.target.name,!n.state[t.target.name]))},n.handleSubmit=function(t){""!==n.state.title?(t.preventDefault(),n.props.addTodo(n.state),n.setState({title:"",important:!1,daily:!1})):console.log("Please enter a value")},n.state={title:"",important:!1,daily:!1},n}return Object(r.a)(a,[{key:"render",value:function(){var t=this.state,e=t.title,a=t.important,n=t.daily;return o.a.createElement("div",{id:"todo-form"},o.a.createElement("label",{htmlFor:"title",id:"title-input-container"},o.a.createElement("input",{id:"title",name:"title",type:"text",placeholder:"Enter Todo Title",value:e,onChange:this.handleChange})),o.a.createElement("button",{id:"important-form-btn",name:"important",type:"button",onClick:this.handleChange,className:a?"fas fa-exclamation":"fas fa-times",title:a?"Mark un-important":"Mark important"}),o.a.createElement("button",{id:"daily-form-btn",name:"daily",type:"button",onClick:this.handleChange,className:n?"fas fa-calendar-alt":"fas fa-calendar-times",title:n?"Unmark as Daily":"Mark as daily"}),o.a.createElement("button",{type:"submit",id:"todo-submit",onClick:this.handleSubmit},"ADD"))}}]),a}(o.a.Component)),C=(a(30),function(t){Object(c.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).toggleVisibility=function(){n.setState((function(t){return{hidden:!t.hidden}}))},n.resetDailyTasks=function(t){t.stopPropagation(),n.props.resetDailyTasks()},n.state={hidden:!0},n}return Object(r.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{id:"todo-tools",className:this.state.hidden?"":"toggle-visible"},o.a.createElement("button",{className:"fas fa-bars",id:"tools-toggle",onClick:this.toggleVisibility}),o.a.createElement("div",{className:"todo-tool ".concat("all"===this.props.filterMode?"filter":""),onClick:this.props.getAllTasks},"All Tasks"),o.a.createElement("div",{className:"todo-tool ".concat("daily"===this.props.filterMode?"filter":""),onClick:this.props.getDailyTasks},"Daily Tasks ",o.a.createElement("i",{title:"Reset",className:"fas fa-undo-alt extra-tool",onClick:this.resetDailyTasks})),o.a.createElement("div",{className:"todo-tool ".concat("important"===this.props.filterMode?"filter":""),onClick:this.props.getImportantTasks},"Important Tasks"),o.a.createElement("div",{className:"todo-tool ".concat("completed"===this.props.filterMode?"filter":""),onClick:this.props.getCompletedTasks},"Completed Tasks"))}}]),a}(o.a.Component)),T=(a(31),function(t){Object(c.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).addTodo=function(t){var e=f.currentUser,a=n.state.todoItems;h.collection("todos").add({user:e.uid,title:t.title,important:t.important,daily:t.daily,completed:!1}).then((function(e){a.push(new b(e.id,t.title,t.important,t.daily)),n.setState({todoItems:a})}))},n.deleteTodo=function(t){var e=n.state.todoItems.filter((function(e){return e.id!==t}));h.collection("todos").doc(t).delete(),n.setState({todoItems:e})},n.toggleCompleteTodo=function(t){var e=!1,a=n.state.todoItems.map((function(a){return a.id===t?(a.completed=!a.completed,e=a.completed,a):a}));h.collection("todos").doc(t).update({completed:e}).then((function(){console.log("Document with id ".concat(t," updated"))})).catch((function(){console.log("Oops, something went wrong!")})),n.setState({todoItems:a})},n.updateNotes=function(t,e){h.collection("todos").doc(t).update({notes:e}).then((function(){}))},n.getAllTasks=function(){var t=f.currentUser;h.collection("todos").where("user","==",t.uid).orderBy("important","desc").get().then((function(t){var e=t.docs.map((function(t){var e=t.data(),a=e.title,n=e.important,o=e.daily,s=e.completed,i=e.notes,l=new b(t.id,a,n,o,i);return l.completed=s,l}));n.setState({todoItems:e,filterMode:"all"})}))},n.getDailyTasks=function(){n.filterTasks("daily",!0)},n.getImportantTasks=function(){n.filterTasks("important",!0)},n.getCompletedTasks=function(){n.filterTasks("completed",!0)},n.resetDailyTasks=function(){var t=f.currentUser;h.collection("todos").where("user","==",t.uid).where("daily","==",!0).get().then((function(t){var e=h.batch();t.forEach((function(t){var a=h.collection("todos").doc(t.id);e.update(a,{completed:!1})})),e.commit().then((function(){console.log("Update Completed"),n.getDailyTasks()}))}))},n.filterTasks=function(t,e){var a=f.currentUser;h.collection("todos").where("user","==",a.uid).where(t,"==",e).get().then((function(e){var a=e.docs.map((function(t){var e=t.data(),a=e.title,n=e.important,o=e.daily,s=e.completed,i=e.notes,l=new b(t.id,a,n,o,i);return l.completed=s,l}));n.setState({todoItems:a,filterMode:t})}))},n.state={todoItems:[],filterMode:"all"},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.getAllTasks()}},{key:"render",value:function(){return o.a.createElement("div",{id:"todo-container"},o.a.createElement(E,{addTodo:this.addTodo}),o.a.createElement(C,{getDailyTasks:this.getDailyTasks,getAllTasks:this.getAllTasks,getImportantTasks:this.getImportantTasks,getCompletedTasks:this.getCompletedTasks,resetDailyTasks:this.resetDailyTasks,filterMode:this.state.filterMode}),o.a.createElement(y,{todoItems:this.state.todoItems,deleteTodo:this.deleteTodo,toggleCompleteTodo:this.toggleCompleteTodo,updateNotes:this.updateNotes}))}}]),a}(o.a.Component)),I=(a(32),function(t){Object(c.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).updateAuthStatus=function(t){n.setState({userLoggedIn:t})},n.state={userLoggedIn:!1},n}return Object(r.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(g,{title:"Todo",updateAuthStatus:this.updateAuthStatus,userLoggedIn:this.state.userLoggedIn}),this.state.userLoggedIn?o.a.createElement(T,null):o.a.createElement("h2",null,"Please Sign Up Or Login"))}}]),a}(o.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}],[[15,1,2]]]);
//# sourceMappingURL=main.532bf26a.chunk.js.map